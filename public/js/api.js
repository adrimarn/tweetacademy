(()=>{function t(){$("p").linkify({target:"_blank"})}jQuery(document).ready((function(){$.fn.api.settings.api={"follow user":"/follow/{id}","unfollow user":"/unfollow/{id}","like tweet":"/like/{id}",retweet:"/retweet/{id}","undo retweet":"/retweet/{id}/undo"},$.fn.api.settings.successTest=function(t){return!(!t||!t.success)&&t.success};var i=$("body");i.on("click",".follow.button",(function(){"false"===$(this).attr("data-following")?$(this).api({action:"follow user",on:"now",onSuccess:function(t,i,e){$(this).attr("data-following","true"),$(this).text("Abonné"),$(this).removeClass("negative").addClass("primary")},onFailure:function(t,i,e){$(this).text("Erreur!")}}):"true"===$(this).attr("data-following")&&$(this).api({action:"unfollow user",on:"now",onSuccess:function(t,i,e){$(this).attr("data-following","false"),$(this).text("Désabonné"),$(this).removeClass("primary").addClass("negative")},onFailure:function(t,i,e){$(this).text("Erreur!")}})})),i.on("click","a.like",(function(){"false"===$(this).attr("data-liking")?$(this).api({action:"like tweet",on:"now",onSuccess:function(t,i,e){$(this).attr("data-liking","true"),$(this).addClass("active")},onFailure:function(t,i,e){$(this).toast({class:"error",message:t.error})}}):"true"===$(this).attr("data-liking")&&$(this).api({action:"like tweet",on:"now",onSuccess:function(t,i,e){$(this).attr("data-liking","false"),$(this).removeClass("active")},onFailure:function(t,i,e){$(this).toast({class:"error",message:t})}})})),i.on("click",".tw-delete",(function(){var t=$("#confirm-button"),i=$(this).data("id");t.attr("href","tweet/"+i+"/destroy"),$(".mini.modal").modal("show")})),$("ul.pagination").hide(),$((function(){$(".scrolling-pagination").jscroll({loadingHtml:'<div class="ui large feed raised segment">\n  <div class="ui active inverted dimmer">\n    <div class="ui text loader">Chargement</div>\n  </div>\n  <img class="ui wireframe image" src="../assets/images/wireframe/short-paragraph.png">\n</div>',autoTrigger:!0,padding:0,nextSelector:".pagination li.active + li a",contentSelector:"div.scrolling-pagination",callback:function(){$("ul.pagination").remove(),t()}})})),i.on("mouseenter",".user-popup",(function(){$(this).popup("show")})),i.on("mouseleave",".user-popup",(function(){$(this).popup("hidden")}))})),$(window).on("load",(function(){t()}))})();